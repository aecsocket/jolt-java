import io.github.krakowski.jextract.JextractTask

/* when using jextract:
 * 1. `apply false` -> `apply true`
 * 2. `gradle jextract`
 * 3. copy the autogenerated code from `build/generated/sources/jextract` to `src/main/java`
 * 4. `apply true` -> `apply false`
 * 5. `gradle clean`
 */

plugins {
    id("java-conventions")
    id("jextract-conventions") apply false
}

publishIfNeeded()

tasks {
    withType<JextractTask> {
        header("$joltDir/JoltC/JoltPhysicsC.h") {
            targetPackage.set("jolt.headers")
            className.set("JoltPhysicsC")
        }
    }
}
